<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title><%= title || 'Home' %></title>
  <style>
    body { font-family: system-ui,-apple-system,Segoe UI,Roboto,sans-serif; margin:0; color:#222; }
    .container { max-width: 1100px; margin: 0 auto; padding: 0 1rem; }
    .hero { padding: 2.5rem 0; display: grid; gap: .75rem; text-align: center; background: #f8fafc; }
    .hero h1 { margin: 0; font-size: 1.8rem; }
    .hero p { margin: .25rem 0 1rem; color:#555; }
    .btn { display:inline-block; padding:.6rem 1rem; border:1px solid #bbb; border-radius:.6rem; background:#fff; text-decoration:none; color:#222; }
    .btn:hover { background:#f1f1f1; }
    .hero-cats { display:grid; gap:1rem; padding: 1.5rem 0; }
    @media (min-width: 720px) { .hero-cats { grid-template-columns: repeat(3, 1fr); } }
    .hero-card { position:relative; overflow:hidden; border:1px solid #eee; border-radius: .75rem; background:#fff; }
    .hero-card img { width:100%; height:200px; object-fit:cover; display:block; }
    .hero-card .label { position:absolute; left:.75rem; bottom:.75rem; background:rgba(255,255,255,.9); padding:.3rem .6rem; border-radius:.5rem; font-weight:600; }
    .section { padding: 2rem 0; }
    .section h2 { margin:.2rem 0 1rem; text-align:center; font-size:1.4rem; }
    .grid { display:grid; gap:.75rem; }
    @media (min-width: 720px) { .grid { grid-template-columns: repeat(3, 1fr); } }
    .card { border:1px solid #eee; border-radius:.75rem; padding: .9rem; background:#fff; display:flex; align-items:center; justify-content:space-between; gap:.5rem; }
    .muted { color:#666; font-style:italic; text-align:center; }
    .top-spacer { height: .5rem; }
  </style>
</head>
<body>
  <!-- NAVBAR -->
  <%- include('partials/navbar', { role, name }) %>

  <div class="top-spacer"></div>

  <!-- HERO: promo member baru (tanpa tombol daftar sekarang) -->
  <section class="hero">
    <div class="container">
      <h1>Selamat datang di E-Commerce App</h1>
      <p>Promo spesial untuk member baru — langsung daftar dan temukan produk favoritmu.</p>
      <!-- Tombol Daftar Sekarang dihapus -->
    </div>
  </section>

  <!-- HERO: featured categories (2–3 gambar, klik ke /categories/:id) -->
  <section class="container">
    <div class="hero-cats">
      <% if (featuredCategories && featuredCategories.length) { %>
        <% featuredCategories.forEach(fc => { %>
          <a class="hero-card" href="/categories/<%= fc.id %>">
            <img src="<%= fc.imageUrl %>" alt="Kategori <%= fc.name %>" />
            <span class="label"><%= fc.name %></span>
          </a>
        <% }) %>
      <% } %>
    </div>
  </section>

  <!-- CATEGORY HIGHLIGHTS -->
  <section class="section">
    <div class="container">
      <h2>Jelajahi Kategori</h2>

      <% if (!categories || !categories.length) { %>
        <p class="muted">Kategori belum tersedia.</p>
      <% } else { %>
        <div class="grid">
          <% categories.forEach(cat => { %>
            <div class="card">
              <div><strong><%= cat.name %></strong></div>
              <div>
                <a class="btn" href="/categories/<%= cat.id %>">See Detail</a>
              </div>
            </div>
          <% }) %>
        </div>
      <% } %>
    </div>
  </section>

  <!-- FOOTER -->
  <%- include('partials/footer') %>
</body>
</html>
